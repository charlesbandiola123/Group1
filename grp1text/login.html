<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <script>
        // Show an alert if there's an error in the URL (from login.php)
        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has("error")) {
                alert(urlParams.get("error")); // Show the error message
                
                // Remove error from the URL to prevent it from showing on reload
                window.history.replaceState(null, "", window.location.pathname);
            }

            // Auto-fill login form if data is stored in localStorage
            const savedEmail = localStorage.getItem("userEmail");
            const savedPassword = localStorage.getItem("userPassword");

            if (savedEmail) {
                document.getElementById("email").value = savedEmail;
            }

            if (savedPassword) {
                document.getElementById("password").value = savedPassword;
            }
        };
    </script>
</head>
<body>
    <form action="login.php" method="POST">
        <h1>Login</h1>
        <br/>
        <div>
            <label for="email">Email</label>
            <br/>
            <input type="email" id="email" name="email" required/>
        </div>
        <br/>
        <div>
            <label for="password">Password</label>
            <br/>
            <input type="password" id="password" name="password" required/>
        </div>
        <br/>
        <div>
            <input type="submit" value="Login"/>
        </div>
    </form>
</body>
</html>
